<ion-view>

    <ion-content has-bouncing="true">
        <!-- alternative adresse angeben -->
        <div class="error-box">
            <div ng-if="Mindestbestellwert.getLevel() && Mindestbestellwert.getLevel().price <= getTotalCost() || orderType == 'pickup'">
                <i class="ion-checkmark-circled balanced"></i>
                <span style="color: #fff">Deine Bestellung kann geliefert werden. <b>Mindestbestellwert erreicht</b></span>
            </div>

            <div ng-if="Mindestbestellwert.getLevel() && Mindestbestellwert.getLevel().price > getTotalCost() && orderType != 'pickup'">
                <i class="ion-android-warning"></i>
                <span style="color: #fff">Du erfüllst den Mindestbestellwert deiner Umgebung nicht. Mindestbestellwert: {{(Mindestbestellwert.getLevel().price | currency)}}</span>
            </div>

            <div ng-if="Mindestbestellwert.getLevel() == false && orderType != 'pickup'">
                <i style="color: #fff" class="ion-information-circled"></i>
                <span style="color: #fff">
                  Leider können wir deinen Standort nicht richtig zu ordnen. Das kann vorkommen wenn die App deinen eingegeben Standort nicht kennt.<br/>
                  Deine Bestellung kann dennoch an uns übermittelt werden. Wir möchten Dich nur darauf hinweisen, dass wir Dich ggf. zurück rufen müssen falls es uns nicht möglich ist Deine Bestellung auszuliefern.
                <span>
            </div>
        </div>
        <div class="lieferadresse">
            <button ng-click="getGeolocation()" style="border-radius:0" class="button button-small button-assertive">
                GPS Standort verwenden
            </button>
            <div class="list">
                <label class="item item-input">
                    <span class="input-label">Vorname</span>
                    <input type="text" ng-blur="saveAddress()" ng-model="address.firstname">
                </label>
                <label class="item item-input">
                    <span class="input-label">Nachname</span>
                    <input type="text" ng-blur="saveAddress()" ng-model="address.lastname">
                </label>
                <label class="item item-input">
                    <span class="input-label">Straße &amp; Hausnr.</span>
                    <input type="text" ng-blur="saveAddress()" ng-model="address.street">
                </label>
    
                <label class="item item-input">
                    <span class="input-label">PLZ</span>
                    <input type="text" ng-blur="saveAddress()" ng-model="address.postalcode">
                </label>
                <label class="item item-input">
                    <span class="input-label">Ortsteil</span>
                    <input type="text" ng-blur="saveAddress()" ng-model="address.location">
                </label>
            </div>
        </div>
        <div ng-if="!canDeliver && orderType == 'shipping'" class="text-center text-assertive" style="color:red">
            <br/> Diese Bestellung kann möglicherweise nicht geliefert werden. Schau dir unsere <span class="assertive" ui-sref="tab.cart.locations">Lieferstandorte</span> an und überprüfe deine Angaben.</center>
        </div>
        <div ui-sref="tab.cart.checkout" ng-click="saveAddress()" class="button button-block button-balanced">
            Adresse übernehmen
        </div>
    </ion-content>
</ion-view>
